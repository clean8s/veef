<!DOCTYPE html>
<html lang="en">
<head>
    <link rel="shortcut icon" href="data:image/gif;base64,R0lGODlhEAAQAJEAAAAAAP////tQEgAAACH/C05FVFNDQVBFMi4wAwEAAAAh+QQEAAAAACwAAAAAEAAQAAACK5QFGct8mEBrL6oZqpVT735sERWKV1aanGcu7OemcGy0ZD07MgfiZw/hYQoAOw==" />
    <meta name="og:image" content="summary" />
    <meta name="twitter:card" content="summary" />
    <meta name="twitter:creator" content="@fikisipi" />
    <meta property="og:url" content="http://bits.blogs.nytimes.com/2011/12/08/a-twitter-for-my-sister/" />
    <meta property="og:title" content="veef Web Components" />
    <meta property="og:description" content="Useful data-oriented HTML components via a single 60KB import." />
    <meta property="og:image" content="https://clean8s.com/veef/og.png" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <!--script-->
    <script src="dist/index.mjs"></script>
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen, Ubuntu, Cantarell, "Fira Sans", "Droid Sans", "Helvetica Neue", sans-serif;
            margin: 0; padding: 0; } * { box-sizing: border-box; -webkit-font-smoothing: antialiased; text-rendering: optimizelegibility; }
        p { margin: 10px 0 30px;} aside { background: #eaeaea; padding: 20px; } a { text-decoration: none; color: #3366CC;}
        code { font-family: ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,"Liberation Mono","Courier New",monospace;}
        header { background: #FB5012; position: sticky; inset: 0; bottom: auto; color: #fff; z-index: 40; padding: 20px 0; font-weight: 600; letter-spacing: 0.05em;}
        .container { width: min(1000px, 80vw); margin: 0 auto; } .showcase { clear: both; }
        .showcase h2 { font-size: 2em; margin: 60px 0 15px; font-weight: 400; }
        .showcase h3 { border-left: 4px solid #555; padding-left: 0.5em; font-size: 1.1em;font-weight: 500; margin: 5px 0 15px; color: #555; }
        main { align-items: center; display: grid; grid-template-columns: 1fr minmax(0,1fr); grid-gap: 20px; }
        main>v-code:before{ content: "SOURCE"; font-weight: 500; color: #fff; background:#333333; border-radius: 20px; padding: 3px 10px; }
        main>div:before,.demo:before { content: "DEMO"; font-weight: 500; color: #fff; background:#FB5012; border-radius: 20px; padding: 3px 10px;}
        h2>code{ color: #996699;  } h2>code:before{content:"<";}h2>code:after{content:">";}
        nav { color: #888; position: fixed; top: 63px; left: 0px; padding: 20px; z-index: 40; background: #fff; } nav>a{display: block; color: #FB5012; font-weight: 500; padding: 5px 0; }
        #M { display: none; float: right; } sup { font-size: 0.8rem; }
        @media screen and (max-width: 1200px) { nav{height: 90vh;} .nav>nav{display:none;} #M { display: inline-block; } main { grid-template-columns: 100%; } }
    </style>
    <title>veef Web Component kit</title>
</head>
<body class="nav">
    <header><div class="container"><v-icon name="Bolt"></v-icon> veef Web Components <v-icon id="M" onclick="document.body.classList.toggle('nav')" name="Menu"></v-icon></div></header>

    <nav>
        <p>Contents</p>
        <a href="#v-tree">v-tree</a>
        <a href="#v-search">v-search</a>
        <a href="#v-table">v-table</a>
        <a href="#v-dialog">v-dialog</a>
        <a href="#v-alert">v-alert</a>
        <a href="#v-alert">v-icon</a>
        <a href="#license">License</a>
    </nav>

    <div class="container showcase">
        <h2><b>Setup</b>: paste & use in any framework <a href="https://github.com/clean8s/veef">
                    <v-icon name="Github"></v-icon><sup>&lt;60KB gzip</sup></a>
                
        </h2>
        <v-code lang="html">
            ~script type="module"~
            import "https://unpkg.com/veef";
            // you have now loaded every ~v-component~
            // and its styles! note: attribute/property doc is yet to be complete.
            ~/script~
        </v-code>
        <h2 id="v-tree"><b>v-tree</b>: instant JSON object preview</h2>

        <main>
        
        <div>
        <p>
        Explore an API response by passing it to a &lt;v-tree&gt; .data:
        </p>

        <v-tree dark id="tree">
        </v-tree>
        </div>

        <v-code lang="html">
            ~v-tree id="tree"~~/v-tree~

            ~script~
            fetch("https://run.mocky.io/v3/7b1ccde5-01bf-4e12-9a23-d87ff910a0cd")
             .then(x => x.json()).then(resp => {
                tree.data = resp;
            });
            ~/script~
        </v-code>

        </main>

        <script>
            fetch("https://run.mocky.io/v3/7b1ccde5-01bf-4e12-9a23-d87ff910a0cd").then(x => x.json()).then(resp => {
                tree.data = resp;
            });
        </script>

        <aside>
        <h3>You can pass JSON directly too:</h3>
        The data property can also be set using
        HTML attributes, like this:
        <v-code lang="html">
            ~v-tree id="tree" data='{"some":"json"}'~~/v-tree~
        </v-code>
        </aside>


        <h2 id="v-search"><b>v-search</b>: instant fuzzy search</h2>

        <main>
        <div>
            <p>
        Search Queen songs: (look at the page HTML to see the dataset)
            </p>
            <v-search autofuzz="label"
            rowrender="(row, highlight) => h`<v-icon name='Headset' style='color: red' /> ${highlight} <small style='margin: 0 10px; color:#999'>${row.value}</span>`">
            <data value="song0">'39</data>
            <data value="song1">Action This Day</data>
            <data value="song2">All Dead, All Dead</data>
            <data value="song3">All God's People</data>
            <data value="song4">Another One Bites the Dust</data>
            <data value="song5">Arboria (Planet of the Tree Men)</data>
            <data value="song6">Back Chat</data>
            <data value="song7">Battle Theme</data>
            <data value="song8">Bicycle Race</data>
            <data value="song9">Bijou</data>
            <data value="song10">Blurred Vision</data>
            <data value="song11">Body Language</data>
            <data value="song12">Bohemian Rhapsody</data>
            <data value="song13">Breakthru</data>
            <data value="song14">Brighton Rock</data>
            <data value="song15">Bring Back That Leroy Brown</data>
            <data value="song16">Calling All Girls</data>
            <data value="song17">Chinese Torture</data>
            <data value="song18">Coming Soon</data>
            <data value="song19">Cool Cat</data>
            <data value="song20">Crash Dive On Mingo City</data>
            <data value="song21">Crazy Little Thing Called Love</data>
            <data value="song22">Dancer</data>
            <data value="song23">Dead On Time</data>
            <data value="song24">Dear Friends</data>
            <data value="song25">Death on Two Legs (Dedicated to...)</data>
            <data value="song26">Delilah</data>
            <data value="song27">Doing All Right</data>
            <data value="song28">Don't Lose Your Head</data>
            <data value="song29">Don't Stop Me Now</data>
            <data value="song30">Don't Try So Hard</data>
            <data value="song31">Don't Try Suicide</data>
            <data value="song32">A Dozen Red Roses For My Darling</data>
            <data value="song33">Dragon Attack</data>
            <data value="song34">Dreamer's Ball</data>
            <data value="song35">Drowse</data>
            <data value="song36">Escape from the Swamp</data>
            <data value="song37">Execution of Flash</data>
            <data value="song38">The Fairy Feller's Master-Stroke</data>
            <data value="song39">Fat Bottomed Girls</data>
            <data value="song40">Father to Son</data>
            <data value="song41">Feelings, Feelings</data>
            <data value="song42">Fight from the Inside</data>
            <data value="song43">Flash's Theme</data>
            <data value="song44">Flash to the Rescue</data>
            <data value="song45">Flash's Theme Reprise (Victory Celebrations)</data>
            <data value="song46">Flick of the Wrist</data>
            <data value="song47">Football Fight</data>
            <data value="song48">Friends Will Be Friends</data>
            <data value="song49">Fun It</data>
            <data value="song50">Funny How Love Is</data>
        </v-search>
    </div>
    <v-code lang="html">
        ~v-search autofuzz="label"~
          ~data value="id-1"~
            Some label that can be matched against
          ~/data~
          ~data value="id-2"~
            List all your documents here
          ~/data~
        ~/v-search~
        </v-code>
    </main>

    <aside>

    <h3>JSX-like search result customization and a custom matcher</h3>

    <p>
    Datasets loaded with &lt;data&gt; tags only have "value" and "label"
    even though the autofuzz="" attribute tells veef which key should be indexed.

    We can use JS to supply complex data structures. Furthermore, we can make our own
    declarative renderer for the search results.
    </p>
    <p>
    The v-search tag has a slot="setup" which can contain a JavaScript function
    taking a single argument. Even though it's arbitrary, <strong>we suggest you name it h</strong> because it is the 'h' from
    <a href="https://github.com/developit/htm">Jason Miller's htm project</a> and is used for HTM expressions:
    </p>

    <v-code lang="html">
    ~v-search~
    ~script slot="setup"~
        (h) =&gt; {
            const suggestList = new Array(5).fill(0);
            this.rowRender = (row) =&gt; h`${row.label}`
            this.addEventListener('input', (x) =&gt; {
                if(x.target.value.trim().length == 0) return;
                let q = x.target.value.trim();
                this.suggestions = suggestList.map((_, value) =&gt; (
                    {value, label: h`&lt;small&gt;Item ${value};&lt;/small&gt; you typed &lt;b&gt;${q}&lt;/i&gt;`}
                ))
                this.objToString = (x) =&gt; `Item ${x.value}: ${this.value}`;
            })
        }
    ~/script~
    ~/v-search~
    </v-code>
    <p>
        veef will make sure that:
        <ul>
            <li>the anonymous function will be called when the component is ready</li>
            <li>'this' inside refers to the particular element.</li>
            <li>the namespace isn't polluted by anything by using Function objects instead of eval</li>
        </ul>
    </p>
    Here's the example running live:
    <v-search id="s">
        <script slot="setup">
            (h) => {
                this.rowRender = (row) => h`${row.label}`
                this.addEventListener('input', (x) => {
                    if(x.target.value.trim().length == 0) return;
                    let q = x.target.value.trim();
                    this.suggestions = new Array(5).fill(0).map((_, value) => (
                        {value, label: h`<small>Item ${value};</small> you typed <b>${q}</i>`}
                    ))
                    this.objToString = (x) => `Item ${x.value}: ${this.value}`;
                })
            }
        </script>
    </v-search>
    </aside>

    <br/>
    <h2 id="v-table"><b>v-table</b>: just put &lt;table&gt; inside</h2>
    <p>
    You get some styling, sorting and checkboxes for free!
    </p>
    <div class="demo"></div>
    <v-table selectable>
        <table>
        <tr>
            <td>Some num</td>
            <td>Some date</td>
            <td>Some name</td>
        </tr>
        <tr>
            <td>3</td>
            <td>20/01/2020</td>
            <td>Zed</td>
        </tr>
        <tr>
            <td>537</td>
            <td>10/01/2020</td>
            <td>Ann</td>
        </tr>
        <tr>
            <td>21</td>
            <td>5/05/2022</td>
            <td>George</td>
        </tr>
        </table>
    </v-table>

    <v-code lang="html">~v-table~ ~table~ ... ~/table~ ~/v-table~</v-code>

    <br/>

    <h2 id="v-dialog"><b>v-dialog</b>: a full screen dialog</h2>
    <main>
        <div>
        <v-dialog id="d1">
        <v-icon name="Delete" data-intent="message"></v-icon>

        <div>
        <h1>Some title</h1>
        <h3>
            Arbitrary HTML. The border on the left happens because
            the host page has full control over the styling of the dialog
            (which happens to add a border)
            while the rest is controlled by veef.
        </h3>
        </div>
        
        <section data-intent="actions">
            <button data-intent="primary" onclick="d1.open = false">Okay</button>
            <button data-intent="secondary" onclick="d1.open = false">Meh</button>
        </section>
    </v-dialog>


    <p>

        <button data-intent="primary" onclick="d1.open = true">
            <v-icon name="Edit"></v-icon>
            Open dialog
        </button>

    </p>

        </div>  
        <v-code lang="html">
        ~v-dialog id="dlg1"~
          Some HTML
        ~/v-dialog~
        ~script~
          dlg1.open = true;
        ~/script~
        </v-code>
    </main>

    <aside>
    <h3>... About the styling of icons/buttons in the demo</h3>
    The demo dialog has styled buttons, but that depends on the CSS
    of the elements inside the dialog. A website with green buttons
    will have green buttons in the dialog, and an unstyled website
    will have unstyled buttons.

    <p>
    <strong>Web Components are independent of your DOM and they wrap elements
    without affecting their styles</strong>, but we provide
    some nice defaults with data-intent:
    </p>
    <v-code lang="html">
        ~v-dialog~
          ~v-icon name="Delete" data-intent="message"~~/v-icon~

          ~div~
            ~h1~Some title~/h1~
            ~h3~Arbitrary HTML~/h3~
          ~/div~
        
          ~section data-intent="actions"~
              ~button data-intent="primary" onclick="d1.open = false"~Okay~/button~
              ~button data-intent="secondary" onclick="d1.open = false"~Meh~/button~
          ~/section~
        ~/v-dialog~
    </v-code>
    </aside>

    <h2 id="v-alert"><b>v-alert</b>: styled message boxes</h2>
    <main>
        <div>
    <v-alert error>This is an error message. You can put <strong>whatever HTML</strong> you like.</v-alert>
    <v-alert warning>This is a warning. It means something, I think ...</v-alert>
    <v-alert success>This is a success!</v-alert>
    <v-alert info>This is an alert, a classic.</v-alert>
    </div>
        <v-code lang="html">
            ~v-alert success~Put any HTML here.~/v-alert~
            ~v-alert warning~Put any HTML here.~/v-alert~
            ~v-alert error~Put any HTML here.~/v-alert~
            ~v-alert info~Put any HTML here.~/v-alert~
        </v-code>
    </main>

    <h2 id="v-icon"><b>v-icon</b>: a few useful svg icons</h2>
    The syntax is just <code>&lt;v-icon name="IconName"&gt;</code>. <br/>
    <ul>
        <li>The color comes from the text color of the parent.</li>
            <li>The size comes from the CSS width/height of the element. </li>
    </ul>
    <p>
    
    <aside>
    If you forget the names of the icons, you can just use <code>&lt;v-icon all&gt;</code> and it will show all the
    icons like in the demo below:
    </aside>
    </p>
    <div class="demo">
    <v-icon all></v-icon>
    </div>

    <h2 id="license">License</h2>
    veef is licensed under MIT. It uses several open source libraries, which are licensed under their own licenses:
    <v-code lang="text">
        Material Icons by Google
        preact
        htm
        esbuild
        redux-devtools/json-tree
    </v-code>

    <footer>
        <hr/>
    <aside>
    By Filip Dimitrovski. <a href="https://clean8s.com/">clean8s 2021</a>
    </aside>
    </footer>

    </div>
</body>
</html>
