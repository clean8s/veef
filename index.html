<!DOCTYPE html>
<html lang="en">
<head>
    <link rel="shortcut icon" href="data:image/gif;base64,R0lGODlhEAAQAJEAAAAAAP////tQEgAAACH/C05FVFNDQVBFMi4wAwEAAAAh+QQEAAAAACwAAAAAEAAQAAACK5QFGct8mEBrL6oZqpVT735sERWKV1aanGcu7OemcGy0ZD07MgfiZw/hYQoAOw==" />
    <meta name="og:image" content="summary" />
    <meta name="twitter:card" content="summary" />
    <meta name="twitter:creator" content="@fikisipi" />
    <meta property="og:url" content="http://bits.blogs.nytimes.com/2011/12/08/a-twitter-for-my-sister/" />
    <meta property="og:title" content="veef Web Components" />
    <meta property="og:description" content="Useful data-oriented HTML components via a single 60KB import." />
    <meta property="og:image" content="https://clean8s.com/veef/util/og.png" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="https://fonts.googleapis.com/css2?family=Fira+Code&amp;family=Inter:wght@200;400;500;600&amp;display=swap" rel="stylesheet">
    <script>
        let exports = {};
    </script>
    <script src="dist/index.js"></script>
    <style>
        /* You DON'T need this. This is the documentation CSS, not the components! */
        body { line-height: 1.5; tab-size: 4; font-size: 16px; color: rgb(31, 41, 55);
            font-family: Inter, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen, Ubuntu, Cantarell, "Fira Sans", "Droid Sans", "Helvetica Neue", sans-serif;
            margin: 0; padding: 0; } * { box-sizing: border-box; -webkit-font-smoothing: antialiased; text-rendering: optimizelegibility; }
        p { margin: 10px 0 30px;} aside { background: #eaeaea; padding: 20px; } a { text-decoration: none; color: #3366CC;}
        code { font-family: ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,"Liberation Mono","Courier New",monospace;}
        header { background: #FB5012; position: sticky; inset: 0; bottom: auto; color: #fff; z-index: 40; padding: 20px 0; font-weight: 600; letter-spacing: 0.05em;}
        .container { width: min(1000px, 80vw); margin: 0 auto; } .showcase { clear: both; }
        .showcase h2 { font-size: 2em; margin: 60px 0 15px; font-weight: 400; }
        .showcase h3 { border-left: 4px solid #555; padding-left: 0.5em; font-size: 1.1em;font-weight: 500; margin: 5px 0 15px; color: #555; }
        main { display: flex; width: 100%; max-height: 350px; overflow: auto; }
        main>*{ width: 50%; flex-basis: 50%; }
        main>v-code:before{ content: "SOURCE"; font-weight: 500; color: #fff; background:#333333; border-radius: 20px; padding: 3px 10px; }
        main>div:before,.demo:before { content: "DEMO"; font-weight: 500; color: #fff; background:#FB5012; border-radius: 20px; padding: 3px 10px;}
        h2>code{ color: #996699;  } h2>code:before{content:"<";}h2>code:after{content:">";}
        nav { color: #888; position: fixed; top: 63px; display: none; left: 0px; padding: 20px; z-index: 40; background: #fff; } nav>a{display: block; color: #FB5012; font-weight: 500; padding: 5px 0; }
        header .ptr { display: none; float: right; } sup { font-size: 0.8rem; }
        .ptr { cursor: pointer; } .N>nav { display: block; }
        @media screen and (max-width: 600px) { nav{height: 90vh; display: block;} .N>nav { display: none; } header .ptr { display: inline-block; } main { flex-direction: column; max-height: none; } main>* { width: 100%; flex-basis: 100%; } }
    </style>
    <title>veef Web Component kit</title>
</head>
<body class="N">
    <header><div class="container"><v-icon name="Bolt"></v-icon> veef Web Components <v-icon class="ptr" onclick="document.body.classList.toggle('N')" name="Menu"></v-icon></div></header>

    <nav>
        <p>Contents <v-icon onclick="document.body.classList.toggle('N')" class="ptr" name="Close"></v-icon></p>
        <a href="#v-tree"><v-icon name="Bolt"></v-icon>v-tree</a>
        <a href="#v-search"><v-icon name="Bolt"></v-icon>v-search</a>
        <a href="#v-table"><v-icon name="Bolt"></v-icon>v-table</a>
        <a href="#v-dialog"><v-icon name="Bolt"></v-icon>v-dialog</a>
        <a href="#v-alert"><v-icon name="Bolt"></v-icon>v-alert</a>
        <a href="#v-alert"><v-icon name="Bolt"></v-icon>v-icon</a>
        <a href="#license">License</a>
    </nav>

    <div class="container showcase">
        <h2><b>Setup</b>: paste & use in any framework <a href="https://github.com/clean8s/veef">
                    <v-icon name="Github"></v-icon><sup>&lt;60KB gzip</sup></a>
                
        </h2>
        <v-code lang="html">
            ~script src="https://unpkg.com/veef"~~/script~
        </v-code>
        <h2 id="v-tree"><b>v-json</b>: instant JSON object preview</h2>

        <v-tabs via="style">
                <button role="tab" data-target=":scope .blah>.t1">
                    <v-icon name="Bolt"></v-icon>
                    Demo
                </button>
                <button role="tab" data-target=":scope .blah>.t2">
                    <v-icon name="Code"></v-icon>
                    Usage
                </button>
        
        <div slot="content" class="blah">
            <div class="t1">
            A collapsible tree that 
            can be instantiated with a one liner <code>&lt;v-json&gt;</code>.
            It's useful for debugging REST APIs
            or letting users easily explore nested structures.
            Based around @redux/json-tree
            <main>
                <v-tree id="tree3"></v-tree>
                <v-tree dark id="tree4"></v-tree>
            </main>
            Furthermore, the way nodes are rendered can be customized to make it
            useful for specific structures:
            <v-tree id="tree5" style="display: block; width: 250px; overflow: hidden; border-radius: 10px; margin: 20px auto;"></v-tree>
        
            </div>
            <script>
            fetch("https://run.mocky.io/v3/7b1ccde5-01bf-4e12-9a23-d87ff910a0cd").then(x => x.json()).then(resp => {
                tree3.data = resp;
                tree4.data = resp;
            });
                tree5.renderLabel = (handler) => {
                    if(handler.path.length === 1)
                    return html`<span><v-icon name="Menu"></v-icon> Menu-style JSON: {</span>`
                    let icon = "CircleFilled";
                    if(handler.type != "Number") {
                    if( handler.path[0].toLowerCase() != handler.path[0]) {
                        icon = handler.path[0]
                    }
                    if(handler.path[0] == "Music") {
                        icon = "MusicNote"
                    }
                    }
                    return html`<span><v-icon name=${icon}></v-icon> ${handler.path[0]}: {</span>`
                }
                tree5.renderInfo = (handler) => {
                    return ""
                }
                tree5.dark = true;
                tree5.theme = {
                    background: "#FF6600",
                    text: "#fff",
                    str: "#FF9966",
                    num: "#FF9966"
                }
                tree5.data = {
                    Settings: {
                        Wifi: {
                            Help: "I want help",
                            datalimit: "40GB"
                        },
                        Music: {
                            Play: "ok",
                            Stop: "ok"
                        }
                    },
                    Folder: [
                        1,2,3
                    ]
                }
        
            </script>
            <div class="t2">
            The v-json element needs an data attribute using HTML in order to load a document:
            <v-code lang="html">
                ~v-json data='[{"user": {"A": {"id": 581}}, "age": 22}]'~~/v-json~
            </v-code>
            You can also use JavaScript with the data property:
            <v-code lang="html">
                ~v-json id='v1'~~/v-json~
                ~script~
                  v1.data = ["my json", 1, 2];
                  
                  // or perform an AJAX API request...
                  fetch("/my-api").then(r=>r.json()).then(response => {
                    v1.data = response
                  });
                ~/script~
            </v-code>
            </div>
        </div>
        </v-tabs>
    

        <h2 id="v-search"><b>v-search</b>: instant fuzzy search</h2>
        <v-tabs>
            <button data-target=".t1">Demo</button>
            <button>Demo</button>
            <div slot="content">
        <div style="width: min(80vw,400px); margin: 30px auto">
            <p>
        Search Queen songs: (look at the page HTML to see the dataset)
            </p>
            <v-search>
                <data value="song1">Bohemian Rhapsody (1975)</data>
                <data value="song2">Under Pressure (with David Bowie) (1981)</data>
                <data value="song3">Killer Queen (1974)</data>
                <data value="song4">Radio Ga Ga (1984)</data>
                <data value="song5">Seven Seas of Rhye (1974)</data>
                <data value="song6">Another One Bites the Dust (1980)</data>
                <data value="song7">Don’t Stop Me Now (1979)</data>
                <data value="song8">We Will Rock You (1977)</data>
                <data value="song9">You’re My Best Friend (1976)</data>
                <data value="song10">Somebody to Love (1976)</data>
                <data value="song11">We Are the Champions (1977)</data>
                <data value="song12">Love of My Life (live at Festhalle Frankfurt, 2 February 1979) (1979)</data>
                <data value="song13">Spread Your Wings (1978)</data>
                <data value="song14">I Want to Break Free (1984)</data>
                <data value="song15">Who Wants to Live Forever (1986)</data>
                <data value="song16">Tie Your Mother Down (1977)</data>
                <data value="song17">Crazy Little Thing Called Love (1979)</data>
                <data value="song18">These Are the Days of Our Lives (1991)</data>
                <data value="song19">Now I’m Here (1975)</data>
                <data value="song20">Bicycle Race (1978)</data>
                <data value="song21">Fat Bottomed Girls (1978)</data>
                <data value="song22">The Show Must Go On (1991)</data>
                <data value="song23">Keep Yourself Alive (1973)</data>
                <data value="song24">Too Much Love Will Kill You (1996)</data>
                <data value="song25">Good Old Fashioned Lover Boy (1977)</data>
                <data value="song26">One Vision (1985)</data>
                <data value="song27">Play the Game (1980)</data>
                <data value="song28">I Want It All (1989)</data>
                <data value="song29">A Kind of Magic (1986)</data>
                <data value="song30">Save Me (1980)</data>
                <data value="song31">Hammer to Fall (1984)</data>
                <data value="song32">You Don’t Fool Me (1996)</data>
                <data value="song33">Let Me Live (1996)</data>
                <data value="song34">Back Chat (1982)</data>
                <data value="song35">A Winter’s Tale (1995)</data>
                <data value="song36">Innuendo (1991)</data>
                <data value="song37">Flash (1980)</data>
                <data value="song38">I’m Going Slightly Mad (1991)</data>
                <data value="song39">Thank God It’s Christmas (1984)</data>
                <data value="song40">Las Palabras de Amor (the Words of Love) (1982)</data>
                <data value="song41">It’s a Hard Life (1984)</data>
                <data value="song42">Breakthru (1989)</data>
                <data value="song43">Friends Will Be Friends (1986)</data>
                <data value="song44">Heaven for Everyone (1995)</data>
                <data value="song45">No One But You (Only the Good Die Young) (1998)</data>
                <data value="song46">Headlong (1991)</data>
                <data value="song47">Body Language (1982)</data>
                <data value="song48">Scandal (1989)</data>
                <data value="song49">The Invisible Man (1989)</data>
                <data value="song50">The Miracle (1989)</data>
                <script slot="h">
                    (h) => {
                        console.log(this)
                        this.suggestions = [{x: 1}, {x: 3}, {x: 5}];
                        this.itemRender = (x) => h`${x}`
                        this.dataFilterKey = "x";
                    }
                </script>
        </v-search>
    </div>
    <v-code lang="html">
        ~v-search autofuzz="label"~
          ~data value="id-1"~
            Some label that can be matched against
          ~/data~
          ~data value="id-2"~
            List all your documents here
          ~/data~
        ~/v-search~
        </v-code>

    <aside>

    <h3>JSX-like search result customization and a custom matcher</h3>

    <p>
    Datasets loaded with &lt;data&gt; tags only have "value" and "label"
    even though the autofuzz="" attribute tells veef which key should be indexed.

    We can use JS to supply complex data structures. Furthermore, we can make our own
    declarative renderer for the search results.
    </p>
    <p>
    The v-search tag has a slot="setup" which can contain a JavaScript function
    taking a single argument. Even though it's arbitrary, <strong>we suggest you name it h</strong> because it is the 'h' from
    <a href="https://github.com/developit/htm">Jason Miller's htm project</a> and is used for HTM expressions:
    </p>

    <v-code lang="html">
    ~v-search~
    ~script slot="setup"~
        (h) =&gt; {
            const suggestList = new Array(5).fill(0);
            this.rowRender = (row) =&gt; h`${row.label}`
            this.addEventListener('input', (x) =&gt; {
                if(x.target.value.trim().length == 0) return;
                let q = x.target.value.trim();
                this.suggestions = suggestList.map((_, value) =&gt; (
                    {value, label: h`&lt;small&gt;Item ${value};&lt;/small&gt; you typed &lt;b&gt;${q}&lt;/i&gt;`}
                ))
                this.objToString = (x) =&gt; `Item ${x.value}: ${this.value}`;
            })
        }
    ~/script~
    ~/v-search~
    </v-code>
    <p>
        veef will make sure that:
        <ul>
            <li>the anonymous function will be called when the component is ready</li>
            <li>'this' inside refers to the particular element.</li>
            <li>the namespace isn't polluted by anything by using Function objects instead of eval</li>
        </ul>
    </p>
    Here's the example running live:
    <v-search id="s">
        <script slot="h">
            ((h) => {
                console.log(this)
                this.data = [{flt: "example", i: ["item", "one"]}, {flt: "example2", i: ["item", "two"]}]
                this.itemFilter = (i) => true;
                this.itemRender = (i) => h`${JSON.stringify(i)}`
                this.dataFilterKey = "flt";
                this._lastRealValue = "ex"

                // this.rowRender = (row) => h`${row.label}`
                // this.addEventListener('input', (x) => {
                //     if(x.target.value.trim().length == 0) return;
                //     let q = x.target.value.trim();
                //     this.suggestions = new Array(5).fill(0).map((_, value) => (
                //         {value, label: h`<small>Item ${value};</small> you typed <b>${q}</i>`}
                //     ))
                //     this.objToString = (x) => `Item ${x.value}: ${this.value}`;
                // })
            });
        </script>
    </v-search>
    </aside>
    </div>
    </v-tabs>

    <br/>
    <h2 id="v-table"><b>v-table</b>: just put &lt;table&gt; inside</h2>
    <p>
    You get some styling, sorting and checkboxes for free!
    </p>
    <div class="demo"></div>
    <v-table selectable>
        <table>
        <tr>
            <td>Some num</td>
            <td>Some date</td>
            <td>Some name</td>
        </tr>
        <tr>
            <td>3</td>
            <td>20/01/2020</td>
            <td>Zed</td>
        </tr>
        <tr>
            <td>537</td>
            <td>10/01/2020</td>
            <td>Ann</td>
        </tr>
        <tr>
            <td>21</td>
            <td>5/05/2022</td>
            <td>George</td>
        </tr>
        </table>
    </v-table>

    <v-code lang="html">~v-table~ ~table~ ... ~/table~ ~/v-table~</v-code>

    <br/>

    <h2 id="v-dialog"><b>v-dialog</b>: a full screen dialog</h2>
    <main>
        <div>
        <v-dialog id="d1">
        <v-icon name="Delete" data-intent="message"></v-icon>

        <div>
        <h1>Some title</h1>
        <h3>
            Arbitrary HTML. The border on the left happens because
            the host page has full control over the styling of the dialog
            (which happens to add a border)
            while the rest is controlled by veef.
        </h3>
        </div>
        
        <section data-intent="actions">
            <button data-intent="primary" onclick="d1.open = false">Okay</button>
            <button data-intent="secondary" onclick="d1.open = false">Meh</button>
        </section>
    </v-dialog>


    <p>

        <button data-intent="primary" onclick="d1.open = true">
            <v-icon name="Edit"></v-icon>
            Open dialog
        </button>

    </p>

        </div>  
        <v-code lang="html">
        ~v-dialog id="dlg1"~
          Some HTML
        ~/v-dialog~
        ~script~
          dlg1.open = true;
        ~/script~
        </v-code>
    </main>

    <aside>
    <h3>... About the styling of icons/buttons in the demo</h3>
    The demo dialog has styled buttons, but that depends on the CSS
    of the elements inside the dialog. A website with green buttons
    will have green buttons in the dialog, and an unstyled website
    will have unstyled buttons.

    <p>
    <strong>Web Components are independent of your DOM and they wrap elements
    without affecting their styles</strong>, but we provide
    some nice defaults with data-intent:
    </p>
    <v-code lang="html">
        ~v-dialog~
          ~v-icon name="Delete" data-intent="message"~~/v-icon~

          ~div~
            ~h1~Some title~/h1~
            ~h3~Arbitrary HTML~/h3~
          ~/div~
        
          ~section data-intent="actions"~
              ~button data-intent="primary" onclick="d1.open = false"~Okay~/button~
              ~button data-intent="secondary" onclick="d1.open = false"~Meh~/button~
          ~/section~
        ~/v-dialog~
    </v-code>
    </aside>

    <h2 id="v-alert"><b>v-alert</b>: styled message boxes</h2>
    <main>
        <div style="padding: 10px">
    <v-alert error>This is an error message. You can put <strong>whatever HTML</strong> you like.</v-alert>
    <v-alert warning>This is a warning. It means something, I think ...</v-alert>
    <v-alert success>This is a success!</v-alert>
    <v-alert info>This is an alert, a classic.</v-alert>
    </div>
        <v-code lang="html">
            ~v-alert success~Put any HTML here.~/v-alert~
            ~v-alert warning~Put any HTML here.~/v-alert~
            ~v-alert error~Put any HTML here.~/v-alert~
            ~v-alert info~Put any HTML here.~/v-alert~
        </v-code>
    </main>

    <h2 id="v-icon"><b>v-icon</b>: a few useful svg icons</h2>
    The syntax is just <code>&lt;v-icon name="IconName"&gt;</code>. <br/>
    <ul>
        <li>The color comes from the text color of the parent.</li>
            <li>The size comes from the CSS width/height of the element. </li>
    </ul>
    <p>
    
    <aside>
    If you forget the names of the icons, you can just use <code>&lt;v-icon all&gt;</code> and it will show all the
    icons like in the demo below:
    </aside>
    </p>
    <div class="demo">
    <v-icon all></v-icon>
    </div>

    <h2 id="license">License</h2>
    veef is licensed under MIT. It uses several open source libraries, which are licensed under their own licenses:
    <v-code lang="text">
        windi https://windicss.org/
        Material Icons by Google
        preact
        htm
        esbuild
        redux-devtools/json-tree
    </v-code>

    <footer>
        <hr/>
    <aside>
    By Filip Dimitrovski. <a href="https://clean8s.com/">clean8s 2021</a>
    </aside>
    </footer>

    </div>
</body>
</html>
